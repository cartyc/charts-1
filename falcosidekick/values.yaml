# Default values for falcosidekick.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

replicaCount: 1

image:
  repository: falcosecurity/falcosidekick
  tag: 2.19.1
  pullPolicy: IfNotPresent

podSecurityContext:
  runAsUser: 1234
  fsGroup: 1234

# One or more secrets to be used when pulling images
imagePullSecrets: []
# - registrySecretName

nameOverride: ""
fullnameOverride: ""

podSecurityPolicy:
  create: false

priorityClassName: ""

config:

  debug: false
  ##
  ## a list of comma separated custom fields to add to falco events, syntax is "key:value,key:value"
  customfields: ""
  checkcert: true

  slack:
    existingsecret: ""
    webhookurl: ""
    footer: ""
    icon: ""
    username: ""
    outputformat: "all"
    minimumpriority: ""
    messageformat: ""

  rocketchat:
    existingsecret: ""
    webhookurl: ""
    icon: ""
    username: ""
    outputformat: "all"
    minimumpriority: ""
    messageformat: ""

  mattermost:
    existingsecret: ""
    webhookurl: ""
    footer: ""
    icon: ""
    username: ""
    outputformat: "all"
    minimumpriority: ""
    messageformat: ""

  teams:
    existingsecret: ""
    webhookurl: ""
    activityimage: ""
    outputformat: "all"
    minimumpriority: ""

  datadog:
    existingsecret: ""
    apikey: ""
    minimumpriority: ""

  alertmanager:
    existingsecret: ""
    hostport: ""

  elasticsearch:
    existingsecret: ""
    hostport: ""
    index: "falco"
    type: "event"
    minimumpriority: ""

  influxdb:
    existingsecret: ""
    hostport: ""
    database: "falco"
    user: ""
    password: ""
    minimumpriority: ""

  loki:
    existingsecret: ""
    hostport: ""
    minimumpriority: ""

  nats:
    existingsecret: ""
    hostport: ""
    minimumpriority: ""

  aws:
    existingsecret: ""
    accesskeyid: ""
    secretaccesskey: ""
    region: ""
    cloudwatchlogs:
      existingsecret: ""
      loggroup: ""
      logstream: ""
      minimumpriority: ""
    lambda:
      existingsecret: ""
      functionname: ""
      minimumpriority: ""
    sns:
      existingsecret: ""
      topicarn: ""
      rawjson: false
      minimumpriority: ""
    sqs:
      existingsecret: ""
      url: ""
      minimumpriority: ""

  smtp:
    existingsecret: ""
    hostport: ""
    user: ""
    password: ""
    from: ""
    to: ""
    outputformat: "html"
    minimumpriority: ""

  opsgenie:
    existingsecret: ""
    apikey: ""
    region: ""
    minimumpriority: ""

  statsd:
    existingsecret: ""
    forwarder: ""
    namespace: "falcosidekick."

  dogstatsd:
    existingsecret: ""
    forwarder: ""
    namespace: "falcosidekick."
    tags: ""

  webhook:
    existingsecret: ""
    address: ""
    customHeaders: ""  # a list of comma separated custom headers to add, syntax is "key:value,key:value"
    minimumpriority: ""

  azure:
    existingsecret: ""
    subscriptionID: ""
    resourceGroupName: ""
    podIdentityClientID: ""
    podIdentityName: ""
    eventHub:
      namespace: ""
      name: ""
      minimumpriority: ""

  discord:
    existingsecret: ""
    webhookurl: ""
    icon: ""
    minimumpriority: ""

  gcp:
    existingsecret: ""
    credentials: ""  # The base64-encoded JSON key file for the GCP service account
    pubsub:
      projectid: ""  # The GCP Project ID containing the Pub/Sub Topic
      topic: ""  # The name of the Pub/Sub topic
    # minimumpriority: "debug" # minimum priority of event for using this output, order is emergency|alert|critical|error|warning|notice|informational|debug or "" (default)

  googlechat:
    existingsecret: ""
    webhookurl: ""
    outputformat: "all"
    minimumpriority: ""
    messageformat: ""

  kafka:
    existingsecret: ""
    url: ""
    topic: ""
    partition: 0
    messageformat: ""

service:
  type: ClusterIP
  port: 2801

ingress:
  enabled: false
  annotations: {}
    # kubernetes.io/ingress.class: nginx
    # kubernetes.io/tls-acme: "true"
  hosts:
    - host: falcosidekick.local
      paths: []

  tls: []
  #  - secretName: chart-example-tls
  #    hosts:
  #      - chart-example.local

resources: {}
  # We usually recommend not to specify default resources and to leave this as a conscious
  # choice for the user. This also increases chances charts run on environments with little
  # resources, such as Minikube. If you do want to specify resources, uncomment the following
  # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
  # limits:
  #   cpu: 100m
  #   memory: 128Mi
  # requests:
  #   cpu: 100m
  #   memory: 128Mi

nodeSelector: {}

tolerations: []

affinity: {}
